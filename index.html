<video id="video" controls preload="metadata" poster="http://rrtesting.com/wp-content/uploads/2016/10/poster.png">
    <source src="https://s3-us-west-2.amazonaws.com/railroadtesting/Module+1.mp4" type="video/mp4">
</video>
<p id="quiz-message"><span>YOU MAY TAKE THE QUIZ NOW</span></p>
<style>
video {
    width: 100%;
    height: auto;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
    z-index: 2;
    position: relative;
}

#quiz-message {
    text-align: center;
    font-family: sans-serif;
    background-color: #6699cc;
    padding: 15px 0;
    color: #fff;
    margin-top: 5px;
    font-size: 1rem;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    -ms-box-sizing: border-box;
    box-sizing: border-box;
    z-index: 1;
    height: 47px;
    opacity: 0;
    -webkit-transform: translateY(-47px);
    -moz-transform: translateY(-47px);
    -ms-transform: translateY(-47px);
    -o-transform: translateY(-47px);
    transform: translateY(-47px);
    transition: all 300ms;
}

#quiz-message.show {
    opacity: 1;
    -webkit-transform: translateY(0px);
    -moz-transform: translateY(0px);
    -ms-transform: translateY(0px);
    -o-transform: translateY(0px);
    transform: translateY(0px);
}

video::-webkit-media-controls-timeline {
    /*visibility: hidden;*/
}
</style>
<script>
document.addEventListener("DOMContentLoaded", function(event) {

    var video = document.getElementsByTagName('video')[0];
    var c = 0;
    if (video) {
        video.ontimeupdate = function() {
            var ue = video.duration - video.currentTime;
            var message = document.getElementById('quiz-message');
            if (ue < 5 && c == 0) {
                console.log("take quiz now");
                message.className += "show";
                c = c + 1;

            }
        };
    }

});
</script>
